<!DOCTYPE html> 
<html lang="en"> 
<head> 
  <meta charset="utf-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> 
  <title> GPIO Status </title>
  <!-- Include Bootstrap, and Table CSS for styling -->
  <link rel="stylesheet" href= "https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"> 
  <link rel="stylesheet" href= "https://unpkg.com/bootstrap-table@1.16.0/dist/bootstrap-table.min.css"> 
</head> 
<body> 
<div class="container"> 
  <h1 class="text text-success text-center ">GPIO Pin Status</h1> 
  <table class="table-striped border-success"> 
    <thead> 
      <tr> 
        <th data-field="pin"> <span class="text-success"> Pin </span> </th> 
        <th data-field="label"> <span class="text-success"> Label </span> </th> 
        <th data-field="state"> <span class="text-success"> State </span> </th> 
      </tr> 
    </thead> 
  </table> 
</div> 
<!-- Include jQuery and other required files for Bootstrap -->
<script src= "https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src= "https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script> 
<script src= "https://unpkg.com/bootstrap-table@1.18.2/dist/bootstrap-table.min.js"></script> 

<script type="text/javascript"> 
  function renderTable() {
    // load pin state from local json API endpoint, render gpio data as table rows
    $.getJSON("/json", function(json) {
      $('table').bootstrapTable({ 
        data: json.gpio
      });
    });
  }

  $(document).ready(function () {
    // on page load, render the table and set it to refresh every 30 seconds
    renderTable();
    setInterval(function () {renderTable()},30*1000);
  }); 
</script> 
</body> 
</html>

